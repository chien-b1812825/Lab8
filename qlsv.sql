CREATE DATABASE QLSV ;

USE QLSV;
CREATE TABLE CANBO(
	MACB VARCHAR(4) PRIMARY KEY,
	TENCB NVARCHAR(35) NOT NULL,
	MATKHAU VARCHAR(255) NOT NULL
);
INSERT INTO CANBO VALUES ('001',N'Nguyễn Văn Cường','123');
INSERT INTO CANBO VALUES ('002',N'Huỳnh Minh Phương','123');
INSERT INTO CANBO VALUES ('003',N'Thái Cẩm Nhung','123');


CREATE TABLE LOP(
	MALOP VARCHAR(6) PRIMARY KEY,
	TENLOP NVARCHAR(50) NOT NULL
);

INSERT INTO LOP VALUES ('K44-01', 'CNPM 01');
INSERT INTO LOP VALUES ('K44-02', 'CNPM 02');
INSERT INTO LOP VALUES ('K44-03', 'CNPM 03');

CREATE TABLE MONHOC(
	MAMON VARCHAR(5) PRIMARY KEY,
	TENMONHOC NVARCHAR(50) NOT NULL
);
INSERT INTO MONHOC VALUES ('CT101', N'Lập trình căn bản');
INSERT INTO MONHOC VALUES ('CT103', N'Cấu trúc dữ liệu');
INSERT INTO MONHOC VALUES ('CT251', N'Phát triển ứng dụng trên Windows');


CREATE TABLE SINHVIEN(
	MSSV VARCHAR(6) PRIMARY KEY,
	HOCTEN NVARCHAR(30) NOT NULL,
	MALOP VARCHAR(6),
	FOREIGN KEY (MALOP) REFERENCES LOP(MALOP)
);

INSERT INTO SINHVIEN VALUES ('B18001',N'Phạm Thị Bảo Nhiên','K44-01');
INSERT INTO SINHVIEN VALUES ('B18002',N'Nguyễn Văn An','K44-01');
INSERT INTO SINHVIEN VALUES ('B18003',N'Lê Hoài Anh','K44-01');
INSERT INTO SINHVIEN VALUES ('B18004',N'Nguyễn Lâm Hoàng Anh','K44-01');
INSERT INTO SINHVIEN VALUES ('B18005',N'Lê Minh Bằng','K44-01');

INSERT INTO SINHVIEN VALUES ('B18006',N'Vương Thừa Chấn','K44-02');
INSERT INTO SINHVIEN VALUES ('B18007',N'Cao Công Danh','K44-02');
INSERT INTO SINHVIEN VALUES ('B18008',N'Trịnh Lê Long Đức','K44-02');
INSERT INTO SINHVIEN VALUES ('B18009',N'Dương Lê Minh Hậu','K44-02');
INSERT INTO SINHVIEN VALUES ('B18010',N'Nguyễn Vũ Hoàng','K44-02');

INSERT INTO SINHVIEN VALUES ('B18011',N'Nguyễn Hoàng Thái Học','K44-03');
INSERT INTO SINHVIEN VALUES ('B18012',N'Nguyễn Quốc Huy','K44-03');
INSERT INTO SINHVIEN VALUES ('B18013',N'Võ Đoàn Gia Huy','K44-03');
INSERT INTO SINHVIEN VALUES ('B18014',N'Vũ Thị Bích Huyền','K44-03');
INSERT INTO SINHVIEN VALUES ('B18015',N'Hồ Việt Hưng','K44-03');


CREATE TABLE GIANGDAY(
	MACB VARCHAR(4),
	MAMON VARCHAR(5),
	MALOP VARCHAR(6),
	FOREIGN KEY (MACB) REFERENCES CANBO(MACB),
	FOREIGN KEY (MAMON) REFERENCES MONHOC(MAMON),
	FOREIGN KEY (MALOP) REFERENCES LOP(MALOP),
	PRIMARY KEY (MACB, MAMON, MALOP)
);

INSERT INTO GIANGDAY VALUES('001', 'CT101', 'K44-01')
INSERT INTO GIANGDAY VALUES('001', 'CT101', 'K44-02')

INSERT INTO GIANGDAY VALUES('001', 'CT103', 'K44-01')
INSERT INTO GIANGDAY VALUES('001', 'CT103', 'K44-03')

INSERT INTO GIANGDAY VALUES('002', 'CT101', 'K44-03')
INSERT INTO GIANGDAY VALUES('002', 'CT103', 'K44-02')

INSERT INTO GIANGDAY VALUES('003', 'CT251', 'K44-01')
INSERT INTO GIANGDAY VALUES('003', 'CT251', 'K44-02')
INSERT INTO GIANGDAY VALUES('003', 'CT251', 'K44-03')

CREATE TABLE DIEMTHI(
	MSSV VARCHAR(6),
	MAMON VARCHAR(5),
	DIEM FLOAT NOT NULL,
	FOREIGN KEY (MSSV) REFERENCES SINHVIEN(MSSV),
	FOREIGN KEY (MAMON) REFERENCES MONHOC(MAMON),
	PRIMARY KEY (MSSV, MAMON)
); 

INSERT INTO DIEMTHI VALUES ('B18001', 'CT101', 8.3);
INSERT INTO DIEMTHI VALUES ('B18002', 'CT101', 3.9);
INSERT INTO DIEMTHI VALUES ('B18003', 'CT101', 4.0);
INSERT INTO DIEMTHI VALUES ('B18004', 'CT101', 7);
INSERT INTO DIEMTHI VALUES ('B18005', 'CT101', 6);

INSERT INTO DIEMTHI VALUES ('B18006', 'CT101', 8.3);
INSERT INTO DIEMTHI VALUES ('B18007', 'CT101', 3.9);
INSERT INTO DIEMTHI VALUES ('B18008', 'CT101', 4.0);
INSERT INTO DIEMTHI VALUES ('B18009', 'CT101', 7);
INSERT INTO DIEMTHI VALUES ('B18010', 'CT101', 6);

INSERT INTO DIEMTHI VALUES ('B18006', 'CT103', 8.3);
INSERT INTO DIEMTHI VALUES ('B18007', 'CT103', 3.9);
INSERT INTO DIEMTHI VALUES ('B18008', 'CT103', 4.0);
INSERT INTO DIEMTHI VALUES ('B18009', 'CT103', 7);
INSERT INTO DIEMTHI VALUES ('B18010', 'CT103', 6);

INSERT INTO DIEMTHI VALUES ('B18011', 'CT251', 8.3);
INSERT INTO DIEMTHI VALUES ('B18012', 'CT251', 3.9);
INSERT INTO DIEMTHI VALUES ('B18013', 'CT251', 4.0);
INSERT INTO DIEMTHI VALUES ('B18014', 'CT251', 7);
INSERT INTO DIEMTHI VALUES ('B18015', 'CT251', 6);


